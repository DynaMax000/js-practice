<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API XML</title>
</head>

<body>
  <button id="btn">Click Me</button>
</body>
<script>
  // const requestUrl = 'https://jsonplaceholder.typicode.com/posts/1';
  // const xhr = new XMLHttpRequest();
  // xhr.open('GET', requestUrl);
  // xhr.onreadystatechange = function() {
  // console.log(xhr.readyState);
  // if(xhr.readyState === 4) {
  // const data = JSON.parse(this.responseText);
  // console.log(typeof data);
  // console.log(data.title);
  // }
  // }
  // console.log(xhr.readyState); 
  // xhr.send();

  const requestUrl = "https://api.github.com/users/hiteshchoudhary";

  const xhr = new XMLHttpRequest();
  xhr.open('GET', requestUrl);

  let data;

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      data = JSON.parse(this.response);
      console.log(typeof data, data);
    }
  };
  xhr.send();

  const btn = document.getElementById('btn');
  btn.addEventListener('click', function () {
    btn.remove();
    const card = document.createElement('div');
    card.className = 'card';
    card.style.width = '300px';
    card.style.height = 'auto';
    card.style.backgroundColor = 'lightblue';
    card.style.padding = '20px';
    card.style.margin = '20px';
    card.style.borderRadius = '10px';
    card.style.lineHeight = '0.5';

    const avatar = document.createElement('img');
    avatar.src = data.avatar_url;
    avatar.alt = 'User Avatar';
    avatar.style.width = '100px';
    avatar.style.borderRadius = '50%';
    avatar.style.display = 'block';
    avatar.style.margin = '0 auto';

    const username = document.createElement('h3');
    username.textContent = `${data.login}`;
    username.style.color = 'black';
    username.style.textAlign = 'center';

    const followers = document.createElement('p');
    followers.textContent = `Followers: ${data.followers}`;
    followers.style.textAlign = 'center';

    const following = document.createElement('p');
    following.textContent = `Following: ${data.following}`;
    following.style.textAlign = 'center';

    card.appendChild(avatar);
    card.appendChild(username);
    card.appendChild(followers);
    card.appendChild(following);
    document.body.appendChild(card);
  });

</script>

</html>